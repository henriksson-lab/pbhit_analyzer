
# About/Citing

This code consists of (1) growth rate analysis and (2) visualization of CRISPR screens using the PbHiT system in the rodent malaria parasite Plasmodium berghei.

The original manuscript by Jonsdottir et al. is available at: https://doi.org/10.1101/2024.04.20.590404

Generated by the Bushell lab at Ume√• University. http://www.bushelllab.com/; code by Henriksson lab at www.henlab.org

# License

MIT license

# Files for analysis

In the folder analysis/ you have:

* count.R -- takes all FASTQ files and outputs count matrices
* grstats.R -- takes count files and generates statistics

The code assumes that you keep input data files in, e.g.,

* ./crispr_pools/my_pool/fastq/list_of_FASTQ.gz -- Raw FASTQ files
* ./crispr_pools/my_pool/used_bc.csv -- Barcodes used for controls in the pool 

The files you will generate are:

* ./crispr_pools/my_pool/counts.RDS -- Counts from the FASTQ file, from count.R
* ./out/grstats.rds -- Growth rates, from grstats.R
* ./out/timecourses.rds -- Normalized abundances, from grstats.R
* ./out/samplemeta.rds -- Aggregated sample metadata, from grstats.R
* ./out/coverage_stat.rds -- QC informtion, from grstats.R


# Files for visualization

In the folder viz/ you have:

* global.R -- Load files into memory
* server.R -- Server backend
* start.R -- For starting the server
* ui.R -- User interface declaration
* start.sh -- You can run this file from the command line to start the visualizer

Data will be placed in:

* crispr_pools/*

* crispr_methods_paper.R -- generates plots for the paper
* crispr_pools/* -- processed count files and metadata


# Usage

To obtain all the code, we recommend Git pull, or download it as a zip-file.

See example.R for calling the included functions. Because you will likely want
to adapt this code for your own needs, we provide it as-is rather than as an
R library. In count.R, you will also find growth-rate models which where not
used for the previous manuscript but which may be more appropriate depending on
the type and quality of the input data.



